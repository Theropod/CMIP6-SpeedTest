<!DOCTYPE html>
<html>

<head>
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
    <meta charset="UTF-8" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-136276173-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-136276173-2');
    </script>
    <script type="text/javascript">
        // loading access request logs generated by goaccess and insert values in table
        const pageurl = ['/', '/index.html'];
        const access_stat = { 'hitcount': 0, 'hitcount_pctg': 0, 'visitorcount': 0, 'visitorcount_pctg': 0, 'updated:': 'N/A' }
        function insert_access_stat_table(tableid, access_stat) {
            let table = document.getElementById(tableid);
            // Create an empty <tr> element and add it to the 1st position of the table:
            let row = table.insertRow(1);
            // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
            let cell0 = row.insertCell(0);
            let cell1 = row.insertCell(1);
            let cell2 = row.insertCell(2);
            let cell3 = row.insertCell(3);
            let cell4 = row.insertCell(4);
            // cell value
            cell0.innerHTML = access_stat.hitcount;
            cell1.innerHTML = access_stat.hitcount_pctg.toFixed(2) + '%';
            cell2.innerHTML = access_stat.visitorcount;
            cell3.innerHTML = access_stat.visitorcount_pctg.toFixed(2) + '%';
            cell4.innerHTML = access_stat.updated;
        }
        fetch('access_report.json')
            .then(response => {
                return response.json();
            }).then(access_report => {
                for (const pageacccesslog of access_report.requests.data) {
                    if (pageurl.includes(pageacccesslog.data)) {
                        access_stat.hitcount += Number(pageacccesslog.hits.count);
                        access_stat.hitcount_pctg += Number(pageacccesslog.hits.percent);
                        access_stat.visitorcount += Number(pageacccesslog.visitors.count);
                        access_stat.visitorcount_pctg += Number(pageacccesslog.visitors.percent);
                    }
                }
                access_stat.updated = access_report.general.date_time;
                insert_access_stat_table('access_stat_table', access_stat);
            }).catch(error => {
                console.log(error);
            });
    </script>
    <style type="text/css">
        html,
        body {
            border: none;
            padding-left: 2rem;
            padding-right: 2rem;
            margin: 0;
            background: #FFFFFF;
            color: #202020;
        }

        body {
            text-align: left;
            font-family: "Roboto", sans-serif;
        }

        h1,
        h2,
        h3,
        h4 {
            color: #404040;
        }

        @media all and (max-width:40em) {
            body {
                font-size: 0.8em;
            }
        }

        .topnav {
            overflow: hidden;
            background-color: #333;
        }

        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }

        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }

        .topnav a.active {
            background-color: #743481;
            color: white;
        }

        table.access_stat {
            font-family: verdana, arial, sans-serif;
            font-size: 11px;
            color: #333333;
            border-width: 1px;
            border-color: #666666;
            border-collapse: collapse;
            border-width: 0px;
        }

        table.access_stat th {
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #666666;
            background-color: #dedede;
        }

        table.access_stat td {
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #666666;
            background-color: #ffffff;
        }
    </style>
    <title>CMIP6 Data Download Speed Test - Introduction</title>
</head>


<body">
    <div class="topnav">
        <a class="active" href="index.html" target="_blank">Introduction</a>
        <a href="tutorial.html" target="_blank">Tutorial</a>
        <a href="test.html" target="_blank">Test</a>
        <a href="test-result.html" target="_blank">Result</a>
        <a href="contact.html" target="_blank">Contact us</a>
    </div>
    <h1>CMIP6 Data Download Speed Test</h1>
    <h2>1. About this test</h2>
    <p>This Chrome extension and webpage tests your download speed from all available cmip6 data nodes, and is telemetry
        enabled. Please see <a href="tutorial.html" target="_blank">Tutorial</a> to learn how to perform this test.</p>
    <h3>1.1 What is CMIP6?</h3>
    <p>The World Climate Research Programme (WCRP) facilitates analysis and prediction of Earth system change for use in
        a range of practical applications of direct relevance, benefit and value to society. WCRP initialized the
        Coupled
        Model Intercomparison Project (CMIP) <a href="https://www.wcrp-climate.org/wgcm-cmip" target="_blank"></a>in
        1995. The aim of CMIP is to better understand past, present and future
        climate changes arising from natural, unforced variability or in response to changes in radiative forcing in a
        multi-model context. Now CMIP is in its sixth phase.</p>
    <p>
        <h3>1.2 Why this test?</h3>
        <p>The climate model output data CMIP6 is expected to be
            40~60 PB. It is still not very clear whether researchers worldwide may experience a big problem when
            downloading
            such a huge volume of data. This work addressed this issue by performing data download speed test for all
            the
            CMIP6 data nodes. </p>
        <h3>1.3 How we use the data?</h3>
        <p> Data collected through this service is used to test the CMIP6 data accessibility in different regions of the
            world.</p>
        <p> No personal information is disclosed to third parties. </p>
        <h3>1.4 How is the test designed?</h3>
        <p>This test
            consists of four steps: Installing and enabling Allow CORS extension in Chrome, performing data download
            speed
            test for all the CMIP6 data nodes, presenting the test results, and uninstalling the extension. </p>
        <p>The download speed
            test
            is performed by downloading a certain chunk of model output data file from the thredds data server of each
            data
            node.</p>
        <h4>1.5 About the test datasource</h4>
        <p>
            <ul>
                <li>The data node list is extracted from https://esgf-node.llnl.gov/search/cmip6/</li>
                <li>Ping and Jitter are tested against the data nodes</li>
                <li>The nc file to download from selected data node(s) is extracted by the result of ESGF wget script
                    API</li>
            </ul>
        </p>
        <div id='access_stat_area'>
            <h5 onclick="document.getElementById('access_stat_table').style='display:auto'">Show Access Stat</h5>
    <table id='access_stat_table' class='access_stat' border="1" style="display:none">
                <tr>
                    <th>Hits Count</th>
                    <th>Hits Count Percentage</th>
                    <th>Visitors Count</th>
                    <th>Visitors Count Percentage</th>
                    <th>Updated:</th>
                </tr>
            </table>
        </div>
        <a href='https://www.tsinghua.edu.cn/publish/ess/' target="_blank"> <img
            src='./resources/tutorial/logo.png'></img></a>
        </body>

</html>